@model Telerik.Sitefinity.Frontend.Identity.Mvc.Models.ChangePassword.ChangePasswordViewModel

@using Telerik.Sitefinity.UI.MVC;
@using Telerik.Sitefinity.Frontend.Mvc.Helpers

<div class="@Model.CssClass">
    @if (Model.PasswordChanged)
    {
        <h3>@Html.Resource("ChangePasswordSuccess")</h3>
    }
    else
    {
        <h3>@Html.Resource("ChangePasswordHeader")</h3>

        using (Html.BeginFormSitefinity("SetChangePassword", "ChangePassword", null, FormMethod.Post, new Dictionary<string, object> { { "role", "form" }, { "aria-label", @Html.Resource("ChangePasswordHeader") } }))
        {
            if (!string.IsNullOrEmpty(Model.Error))
            {

                <div class="alert alert-danger">
                    @Model.Error
                </div>

            }

            <div class="form-group">
                <label>
                    @Html.Resource("ChangePasswordOldPassword")
                    @Html.PasswordFor(u => u.OldPassword, new { @class = "form-control" })
                </label>
            </div>
            <div class="form-group">
                <label>
                    @Html.Resource("ChangePasswordNewPassword")
                    @Html.PasswordFor(u => u.NewPassword, new { @class = "form-control" })
                </label>
            </div>
            <div class="form-group">
                <label>
                    @Html.Resource("ChangePasswordRepeatPassword")
                    @Html.PasswordFor(u => u.RepeatPassword, new { @class = "form-control" })
                </label>
            </div>

           <button type="submit" class="btn btn-default">@Html.Resource("ChangePasswordSaveButton")</button>
        }
    }
</div>
